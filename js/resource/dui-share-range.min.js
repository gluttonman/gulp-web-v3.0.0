!function(e){e.widget("dui.sharerange",{options:{sharetip:"共享范围：",setRangeSel:null,setBatchRangeSel:null,getRangeSel:null,type:1},_create:function(){var a=this._getData();if(null!=a){var t=a.org_List,n=a.group_List,r=this.options.sharetip;if(1==this.options.type)for(var i=0;i<t.length;i++)r+=0==i?'<label><input type="radio" id="'+t[i].input_id+'" name="share_range_org" checked="checked" value="'+t[i].org_id+'" >'+t[i].org_name+"</label>":'<label><input type="radio" id="'+t[i].input_id+'" name="share_range_org" value="'+t[i].org_id+'" >'+t[i].org_name+"</label>";else 2==this.options.type&&(r+='<label><input type="radio" id="chk_org" name ="share_range_org" checked="checked" value="1">共享到平台</label>');r+='<label style="border-right:1px dashed;padding-right:15px;"><input type="radio" id="share_self" name ="share_range_org" value="0">自己</label>';for(var l=0;l<n.length;l++)null!=n[l].group_name&&(r+='<label><input type="checkbox" id="'+n[l].group_id+'" name ="share_range_gourp" value="'+n[l].group_id+'">'+n[l].group_name+"</label>");this.element.append(r),e("[name='share_range_org']").bind("click",function(){null!=document.getElementById("share_all")&&(document.getElementById("share_all").checked?e("[name='share_range_gourp']").removeAttr("checked").attr("disabled","disabled"):e("[name='share_range_gourp']").removeAttr("disabled"))})}},_getData:function(){var a;return e.ajax({type:"GET",async:!1,dataType:"json",url:url_path_action+"/config/getShareRange",success:function(e){e.success?a=e:(a=null,alert(e.info))}}),a},setRangeSel:function(a){e("#"+a).attr("checked","checked")},setBatchRangeSel:function(a){for(var t=a.split(","),n=0;n<t.length;n++)e("#"+t[n]).attr("checked","checked")},getRangeSel:function(a){var t="";return 1==a?t=e('input[name="share_range_org"]:checked').val():2==a&&(t=e('input[name="share_range_org"]:checked').attr("id")),0==t?t="":t+=",",e("input[name='share_range_gourp']:checkbox").each(function(){e(this).attr("checked")&&(t+=e(this).val()+",")}),""!=t&&(t=t.substring(0,t.length-1)),this.options.getRangeSel=t,this.options.getRangeSel}})}(jQuery);