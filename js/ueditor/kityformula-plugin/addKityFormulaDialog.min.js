UE.registerUI("kityformula",function(e,t){var n=new UE.ui.Dialog({iframeUrl:e.options.UEDITOR_HOME_URL+"kityformula-plugin/kityFormulaDialog.html",editor:e,name:t,title:"插入公式",cssRules:"width:783px; height: 386px;",buttons:[{className:"edui-okbutton",label:"确定",onclick:function(){n.close(!0)}},{className:"edui-cancelbutton",label:"取消",onclick:function(){n.close(!1)}}]});e.ready(function(){UE.utils.cssRule("kfformula","img.kfformula{vertical-align: middle;}",e.document)});var i=e.options.UEDITOR_HOME_URL+"kityformula-plugin/kf-icon.png",l=document.createElement("a");l.href=i,l.href=l.href,i=l.href;var o=new UE.ui.Button({name:"插入"+t,title:"插入公式-"+t,cssRules:'background: url("'+i+'") !important',onclick:function(){n.render(),n.open()}});return e.addListener("selectionchange",function(){var n=e.queryCommandState(t);-1==n?(o.setDisabled(!0),o.setChecked(!1)):(o.setDisabled(!1),o.setChecked(n))}),o});